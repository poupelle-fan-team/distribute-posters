<script>
        // アコーディオン制御は、動作が確認されているため、このまま維持
        const prefectureHeaders = document.querySelectorAll('.prefecture-header');

        prefectureHeaders.forEach(header => {
            header.addEventListener('click', () => {
                const group = header.nextElementSibling;
                
                header.classList.toggle('open');
                group.classList.toggle('active');
            });
        });
    </script>


    <script>
        // データを初期化し、厳密にチェック
        const storeUrls = {
            'hokkaido-ramen-kamon': 'https://maps.app.goo.gl/gPd9f1HwToDfwuoQ8', ', 
            'aomori-hirosaki-candy': 'https://[URL不明]', 
            'aomori-takkocafe-1': 'https://maps.app.goo.gl/6hBn8DNepzqRRt2M9青森県八戸市いずみ塾',
            'aomori-takkocafe-2': 'https://maps.app.goo.gl/DPrUEueJEcJXaLMq9',
            'aomori-sakazuki-base': 'https://maps.app.goo.gl/R7r3wQXrJq6hP1g76',
            'miyagi-candy-sendai': 'https://maps.app.goo.gl/s2fvmveo98V2WzoS9?g_st=ipc',
            'miyagi-scorpion-kingcrab': 'https://maps.app.goo.gl/jxf2MGAd1ixLrNV5A',
            'miyagi-tohoku-unknown': 'https://maps.app.goo.gl/R7r3wQXrJq6hP1g761',
            'gunma-small-school': 'https://maps.app.goo.gl/WQeMHZMmNHYZHioT9?g_st=ipc',
            'chiba-forest-garden': 'https://maps.app.goo.gl/rHNrQhwJ3fagcTcc6?g_st=ipc',
            'tokyo-kotosui': 'https://maps.app.goo.gl/KrTsKMG3YYsv8L6m8?g_st=ipc',
            'tokyo-katsushika-gourmet': 'https://maps.app.goo.gl/GEquqdEbXcAdAkin6',
            'kanagawa-yamato-unknown': 'https://maps.app.goo.gl/JQfsN25ZCvVhbisA6',
            'mie-chainon-joli': 'https://maps.app.goo.gl/REVWxze1Xxt3wD589',
            'kyoto-pilates-dep': 'https://maps.app.goo.gl/X4MbygvRBxJqoPY38',
            'kyoto-haishasan': 'https://maps.app.goo.gl/HWdkZZyS9AQgPvHc8',
            'kyoto-gyutan-en': 'https://maps.app.goo.gl/oqcwgURfheDTZRs37',
            'nara-yamatokoriyama-unknown': 'https://maps.app.goo.gl/ocK1TTe4uEpfCoqo8',
            'osaka-barbershop-b-bond': 'maps.app.goo.gl/rPB1UEEMXsZWUKEA8', ', 
            'osaka-sakueba': 'https://maps.app.goo.gl/eAYfGUoRdMDtzDa87',
            'osaka-higashiosaka-hidamari': 'https://maps.app.goo.gl/6bsa89CiPwXhotnP8',
            'osaka-kuromon-culture': 'https://maps.app.goo.gl/zwVi9Fq9X3Pa2KmC8',
            'osaka-seitaigym-hoshizora': 'https://maps.app.goo.gl/Me5VQNjnieWPAa4G9?g_st=ipc',
            'osaka-nomidokoro-waraiya': 'https://maps.app.goo.gl/ZKxe5CxArWdSN7PJ6',
            'osaka-sakai-sawada': 'https://maps.app.goo.gl/tGwaYxPteirTmdd87',
            'hyogo-nanahuku': 'https://maps.app.goo.gl/qV5Q1dx4akPQf4o76?g_st=ipc',
            'hyogo-aeru-kawanishi': 'https://maps.app.goo.gl/JyBHTfZsznMNqnLc6?g_st=ipc',
            'hyogo-kakigori-huihou': 'https://maps.app.goo.gl/WEdeeKPLMKMNk7197?g_st=ipc',
            'hyogo-eigo-juku': 'https://maps.app.goo.gl/XbgdoBBmuNkYU8MG7?g_st=ipc' 
        };

        // DOMContentLoaded イベントで、リストアイテムの読み込みとイベント設定を行う
        document.addEventListener('DOMContentLoaded', () => {
            const listItems = document.querySelectorAll('.store-list li');
            
            // ログ1: リストアイテムがいくつ見つかったか確認 (例: 37)
            console.log(`[Link Debug] Found ${listItems.length} list items.`);

            listItems.forEach(item => {
                const urlKey = item.getAttribute('data-url');
                const url = storeUrls[urlKey];
                
                // ログ2: 処理中のアイテムと取得したURLを確認 (例: hokkaido-ramen-kamon -> http://...)
                console.log(`[Link Debug] Processing: ${urlKey} -> URL: ${url}`);


                if (url && url !== 'https://[URL不明]') {
                    item.addEventListener('click', (event) => {
                        // ログ3: クリックイベントが発火したか確認
                        console.log(`[Link Debug] Clicked! Opening URL: ${url}`);

                        // リンクを開く処理
                        window.open(url, '_blank');
                    });
                } else {
                    // ログ4: URLが見つからない、または不明なURLのアイテムを確認 (例: aomori-hirosaki-candy)
                    console.log(`[Link Debug] No valid URL found for ${urlKey}. Skipping.`);
                }
            });
        });
    </script>
